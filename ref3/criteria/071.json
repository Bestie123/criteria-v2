{
  "id": "071",
  "text": "API для программного создания, редактирования и интерактивной отрисовки блоков через скрипты: JavaScript API для создания блоков любого типа программно, методы для редактирования существующих блоков (изменение контента, стилей, атрибутов), интерактивная отрисовка блоков с live preview, поддержка пользовательских скриптов для автоматизации работы с блоками, event-driven архитектура для реакции на изменения блоков (onCreate, onUpdate, onDelete, onMove), hooks для расширения функциональности блоков, валидация и sanitization данных блоков, batch операции для массового создания/обновления блоков, undo/redo поддержка для программных изменений, документация API с примерами использования",
  "categories": [
    "ai-criteria",
    "editor",
    "prompts",
    "quality"
  ],
  "tags": [
    "API",
    "automation",
    "batch operations",
    "events",
    "hooks",
    "интерактивность",
    "скрипты"
  ],
  "categories_info": [
    {
      "key": "ai-criteria",
      "title": "Критерии для нейросети",
      "description": "Требования к интеграции ИИ-помощника"
    },
    {
      "key": "editor",
      "title": "Движок редактора",
      "description": "Требования к ядру редактора"
    },
    {
      "key": "prompts",
      "title": "Промпты",
      "description": "Стандартизированные шаблоны запросов для ИИ"
    },
    {
      "key": "quality",
      "title": "Требования к качеству",
      "description": "Нефункциональные требования и стандарты"
    }
  ],
  "contexts": {
    "editor": {
      "subcategories": [
        "Блоки контента"
      ],
      "descriptions": {
        "Блоки контента": "Реализовать полноценный JavaScript API для программной работы с блоками редактора: 1) Создание блоков - методы для создания блоков любого типа программно (editor.blocks.create({type: 'text', content: 'Hello'}), editor.blocks.createHeading({level: 1, text: 'Title'}), editor.blocks.createTable({rows: 3, cols: 4})), поддержка всех типов блоков (текст, заголовки, таблицы, изображения, код, Markdown, HTML, canvas, диаграммы, галереи), создание вложенных блоков и иерархий, создание блоков с предустановленными стилями и атрибутами, возврат объекта блока с уникальным BLOCK_ID для дальнейших операций. 2) Редактирование блоков - методы для изменения существующих блоков (block.setContent('new content'), block.setStyle({color: 'red', fontSize: '16px'}), block.setAttribute('data-custom', 'value')), изменение типа блока (трансформация text → heading, table → list), перемещение блоков (block.moveTo(newParent, position), block.moveAfter(otherBlock)), копирование и клонирование блоков с сохранением всех свойств, удаление блоков с каскадным удалением вложенных элементов. 3) Интерактивная отрисовка - live preview изменений блоков в реальном времени без перезагрузки страницы, incremental rendering для оптимизации производительности при массовых изменениях, virtual DOM для эффективного обновления только измененных частей, поддержка анимаций и transitions при изменениях блоков, debouncing и throttling для оптимизации частых обновлений. 4) Event-driven архитектура - события жизненного цикла блоков (onCreate, onUpdate, onDelete, onMove, onFocus, onBlur), подписка на события через addEventListener (block.addEventListener('update', handler)), глобальные события редактора (editor.on('blockCreated', handler)), возможность отмены действий через preventDefault в обработчиках, bubbling и capturing фазы для вложенных блоков. 5) Hooks и расширения - beforeCreate/afterCreate hooks для валидации и модификации данных перед/после создания, beforeUpdate/afterUpdate для контроля изменений, beforeDelete для подтверждения удаления и cleanup, custom hooks для расширения функциональности блоков, middleware pattern для цепочки обработчиков, plugin system для добавления новых типов блоков и поведения. 6) Batch операции - методы для массового создания блоков (editor.blocks.createBatch([block1Data, block2Data, block3Data])), массовое обновление с одним re-render (editor.blocks.updateBatch(blockIds, updates)), транзакции для атомарных операций с rollback при ошибках, оптимизация производительности через batching изменений DOM. 7) Undo/Redo - автоматическое сохранение истории изменений для программных операций, методы editor.undo() и editor.redo() для отмены/повтора, настройка глубины истории и исключение определенных операций, группировка связанных изменений в одну операцию undo, сохранение истории между сессиями. 8) Валидация и безопасность - валидация данных блоков перед созданием/обновлением, sanitization HTML контента для предотвращения XSS атак, проверка прав доступа для операций с блоками, rate limiting для предотвращения злоупотреблений API, sandbox изоляция для пользовательских скриптов. 9) Документация и примеры - полная API документация с описанием всех методов, параметров и возвращаемых значений, примеры использования для типовых задач (создание таблицы, вставка изображения, форматирование текста), интерактивная playground для экспериментов с API, TypeScript definitions для автодополнения в IDE, migration guides при изменениях API"
      }
    },
    "ai-criteria": {
      "subcategories": [],
      "descriptions": {
        "null": "Использование ИИ-ассистента для работы с API блоков: 1) Генерация кода для создания блоков - автоматическая генерация JavaScript кода для создания блоков на основе описания (например 'создай таблицу 3x4 с заголовками' → код с editor.blocks.createTable()), генерация кода для сложных композиций блоков (вложенные списки, таблицы с форматированием, галереи изображений), оптимизация сгенерированного кода (использование batch операций вместо множества отдельных вызовов, правильная обработка ошибок), генерация TypeScript кода с типизацией для type safety. 2) Автоматизация через скрипты - генерация скриптов для автоматизации повторяющихся задач (массовое форматирование блоков, конвертация типов блоков, реорганизация структуры документа), создание пользовательских команд и shortcuts через API, генерация макросов для сложных операций, интеграция с внешними системами через API (импорт данных из базы данных в таблицы, синхронизация с внешними сервисами). 3) Помощь в отладке - анализ ошибок при работе с API и предложение исправлений, проверка корректности использования API методов, предложение альтернативных подходов при проблемах с производительностью, генерация тестов для проверки работы скриптов с блоками. 4) Оптимизация кода - рефакторинг кода работы с API для улучшения производительности (замена множества отдельных операций на batch, использование event delegation вместо множества listeners), предложение использования hooks и middleware для cleaner code, оптимизация работы с большим количеством блоков (виртуализация, lazy loading, pagination). 5) Генерация документации - автоматическая генерация документации для пользовательских скриптов и расширений, создание примеров использования API для различных сценариев, генерация JSDoc комментариев для функций работы с блоками, создание интерактивных туториалов по работе с API"
      }
    },
    "prompts": {
      "subcategories": [
        "Шаблоны запросов"
      ],
      "descriptions": {
        "Шаблоны запросов": "Шаблоны промптов для работы с API блоков: 1) Шаблон создания кастомного блока - структурированный промпт для создания нового типа блока через API (описание типа блока и его назначения, требуемые свойства и методы, визуальное представление и стили, поведение и интерактивность, примеры использования), генерация полного кода блока включая регистрацию типа, render метод, event handlers, валидацию данных. 2) Шаблон автоматизации операций - промпт для создания скрипта автоматизации (описание задачи которую нужно автоматизировать, входные данные и параметры, ожидаемый результат, обработка ошибок и edge cases), генерация скрипта с использованием batch операций и оптимизацией производительности. 3) Шаблон интеграции с внешними данными - промпт для создания интеграции (источник данных (API, база данных, файл), формат данных и маппинг на блоки, частота обновления и синхронизация, обработка ошибок сети и валидация данных), генерация кода для импорта/экспорта данных через API блоков. 4) Шаблон создания плагина - промпт для разработки плагина расширяющего функциональность блоков (описание функциональности плагина, новые типы блоков или расширение существующих, hooks и события которые использует плагин, настройки и конфигурация), генерация структуры плагина с регистрацией, lifecycle hooks, документацией"
      }
    },
    "quality": {
      "subcategories": [
        "Best Practices & Code Review"
      ],
      "descriptions": {
        "Best Practices & Code Review": "Best practices и код-ревью для скриптов работающих с API блоков: 1) Валидация и обработка ошибок - всегда валидировать входные данные перед созданием/обновлением блоков, использовать try-catch для обработки ошибок API, проверять существование блоков перед операциями с ними, предоставлять понятные сообщения об ошибках пользователю, graceful degradation при недоступности API. 2) Производительность - использовать batch операции вместо множества отдельных вызовов API, debounce/throttle частые обновления блоков, избегать синхронных операций блокирующих UI, использовать requestAnimationFrame для анимаций и визуальных обновлений, lazy loading для блоков вне viewport, мемоизация результатов дорогих операций. 3) Безопасность - sanitize пользовательский ввод перед созданием блоков, использовать Content Security Policy для ограничения выполнения скриптов, валидировать и ограничивать размер данных блоков, проверять права доступа перед операциями, изолировать пользовательские скрипты в sandbox, регулярно обновлять зависимости для закрытия уязвимостей. 4) Поддерживаемость - писать самодокументируемый код с понятными именами переменных и функций, добавлять JSDoc комментарии для публичных API, разбивать сложные операции на небольшие функции, использовать TypeScript для type safety, писать unit тесты для критической логики, документировать нестандартные решения и workarounds. 5) Код-ревью чеклист - проверка корректности использования API методов, валидация всех входных данных, обработка всех возможных ошибок, оптимальность операций (использование batch, отсутствие лишних re-renders), безопасность (sanitization, CSP, права доступа), читаемость и поддерживаемость кода, наличие документации и примеров, покрытие тестами критической функциональности"
      }
    }
  }
}